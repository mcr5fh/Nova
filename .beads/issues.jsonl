{"id":"Nova-0kl","title":"Complete project file export integration for problem-advisor","description":"Follow-up to Nova-6za. Export functions exist in file-exporter.ts but need: (1) natural language save detection, (2) write to specs/projects/\u003cname\u003e.md, (3) project structure with Solution section placeholder","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T14:46:13.635167-08:00","created_by":"shoe","updated_at":"2026-01-31T14:50:10.578782-08:00","closed_at":"2026-01-31T14:50:10.578782-08:00","close_reason":"Closed","labels":["village-supervisor"],"comments":[{"id":3,"issue_id":"Nova-0kl","author":"shoe","text":"Completed: Implemented file export integration for problem-advisor:\n1. Added detectSaveIntent() function for natural language save detection (patterns: 'save', 'save this', 'save as \u003cname\u003e', 'please save', etc.)\n2. Added exportToProjectMarkdown() function that includes Solution section placeholder\n3. Added writeProjectFile() function that writes to specs/projects/\u003cname\u003e.md with kebab-case filenames\n4. Integrated save detection into ProblemAdvisor.chat() method\n5. Added SaveProjectResult type and saveProject() method to ProblemAdvisor class\n6. Exported new functions from API index\n7. All 34 tests pass, TypeScript compiles, build succeeds\n\nFiles modified:\n- packages/problem-advisor/src/core/file-exporter.ts\n- packages/problem-advisor/src/api/advisor.ts\n- packages/problem-advisor/src/api/index.ts\n- packages/problem-advisor/src/__tests__/file-exporter.test.ts","created_at":"2026-01-31T22:50:07Z"}]}
{"id":"Nova-217","title":"Add OpenAI Whisper transcription to nova-server and nova-web: 1) Add /api/tra...","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T19:31:32.213745-08:00","created_by":"shoe","updated_at":"2026-01-31T19:35:48.635052-08:00","closed_at":"2026-01-31T19:35:48.635052-08:00","close_reason":"Closed","labels":["village-supervisor"],"comments":[{"id":16,"issue_id":"Nova-217","author":"shoe","text":"Completed: Added OpenAI Whisper transcription support to nova-server and nova-web.\n\nServer changes (nova-server):\n- Added /api/transcribe endpoint that accepts audio files and transcribes them via OpenAI Whisper API\n- Added multer dependency for handling multipart file uploads\n- Endpoint supports language and model configuration\n\nWeb changes (nova-web):\n- Created useWhisperTranscription hook that records audio via MediaRecorder and sends to server for transcription\n- Updated App.tsx to use Whisper as primary transcription method with Web Speech API as fallback\n- Added VITE_USE_WHISPER env var to toggle between Whisper and Web Speech API\n- Shows 'Recording...' indicator when using Whisper mode\n\nFiles modified:\n- packages/nova-server/src/index.ts\n- packages/nova-server/package.json\n- packages/nova-server/.env.example\n- packages/nova-web/src/hooks/useWhisperTranscription.ts (new)\n- packages/nova-web/src/App.tsx\n- packages/nova-web/.env.example\n\nVerification:\n- TypeScript type checks pass for both packages\n- Builds pass for both packages","created_at":"2026-02-01T03:35:30Z"},{"id":17,"issue_id":"Nova-217","author":"shoe","text":"Completed: Verified OpenAI Whisper transcription implementation. The /api/transcribe endpoint is already implemented in nova-server (src/index.ts:171-218), and nova-web already has useWhisperTranscription hook integrated into App.tsx. Configuration is documented in both .env.example files. Both packages typecheck and build successfully.","created_at":"2026-02-01T03:35:45Z"}]}
{"id":"Nova-2ae","title":"Fix regression: Click to speak not working after stop button fix","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-31T19:03:11.458532-08:00","created_by":"shoe","updated_at":"2026-01-31T19:04:45.905825-08:00","closed_at":"2026-01-31T19:04:45.905825-08:00","close_reason":"Closed","labels":["village-supervisor"],"comments":[{"id":13,"issue_id":"Nova-2ae","author":"shoe","text":"Fixed: Added prevIsListeningRef to track previous listening state. The regression occurred because the new reset-to-IDLE logic would trigger immediately after clicking to speak, before speech recognition actually started (isListening was still false but voiceState was LISTENING). The fix ensures we only reset to IDLE when isListening transitions from true to false, not on the initial state where it's false because recognition hasn't started yet. Changes: packages/nova-web/src/App.tsx. Verified: TypeScript type-check passes, build passes.","created_at":"2026-02-01T03:04:42Z"}]}
{"id":"Nova-2g5","title":"Set up Playwright at repo root","description":"Install and configure Playwright at the monorepo root level:\n\n1. npm init playwright@latest (or manual setup)\n2. Install @playwright/test\n3. Create playwright.config.ts\n4. Install browsers: npx playwright install\n5. Create example test structure\n6. Add npm scripts to root package.json (if exists) or create one\n\nKeep it minimal - just get Playwright working.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T19:24:28.573122-08:00","created_by":"shoe","updated_at":"2026-01-31T19:26:05.968248-08:00","closed_at":"2026-01-31T19:26:05.968248-08:00","close_reason":"Closed","labels":["village-supervisor"],"comments":[{"id":14,"issue_id":"Nova-2g5","author":"shoe","text":"Completed Playwright setup at repo root:\n- Created root package.json with e2e test scripts (test:e2e, test:e2e:ui, test:e2e:headed, test:e2e:debug)\n- Installed @playwright/test v1.58.1\n- Created playwright.config.ts with Chromium, Firefox, and WebKit projects\n- Installed all browsers (Chrome, Firefox, WebKit)\n- Created e2e/example.spec.ts with two example tests\n- Verified setup works: 2 tests passing in Chromium","created_at":"2026-02-01T03:26:01Z"}]}
{"id":"Nova-3gn","title":"[Epic] Nova Voice Interface - Web app with voice","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-31T17:45:50.188936-08:00","created_by":"shoe","updated_at":"2026-01-31T18:03:34.969783-08:00","closed_at":"2026-01-31T18:03:34.969783-08:00","close_reason":"Closed","labels":["village-supervisor"]}
{"id":"Nova-3gn.1","title":"Implement nova-server package","description":"Create packages/nova-server with WebSocket handler, session manager, and message protocol per spec","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T17:45:56.520524-08:00","created_by":"shoe","updated_at":"2026-01-31T18:02:17.689132-08:00","closed_at":"2026-01-31T18:02:17.689132-08:00","close_reason":"Closed","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-3gn.1","depends_on_id":"Nova-3gn","type":"parent-child","created_at":"2026-01-31T17:45:56.521107-08:00","created_by":"shoe"}],"comments":[{"id":11,"issue_id":"Nova-3gn.1","author":"shoe","text":"✅ Implementation complete. All server files created: websocket handler, session manager, message types, entry point. TypeScript compiles cleanly.","created_at":"2026-02-01T01:50:13Z"}]}
{"id":"Nova-3gn.2","title":"Implement nova-web frontend","description":"Create packages/nova-web React+Vite app with voice components, hooks, and OpenAI TTS + Web Speech fallback per spec","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T17:45:57.537213-08:00","created_by":"shoe","updated_at":"2026-01-31T18:02:17.761675-08:00","closed_at":"2026-01-31T18:02:17.761675-08:00","close_reason":"Closed","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-3gn.2","depends_on_id":"Nova-3gn","type":"parent-child","created_at":"2026-01-31T17:45:57.537911-08:00","created_by":"shoe"}]}
{"id":"Nova-3gn.3","title":"QA: Verify nova-server and nova-web implementation","description":"Validate: builds pass, types check, server starts, WebSocket connects, voice flow works","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T17:46:02.973154-08:00","created_by":"shoe","updated_at":"2026-01-31T18:02:40.837491-08:00","closed_at":"2026-01-31T18:02:40.837491-08:00","close_reason":"Closed","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-3gn.3","depends_on_id":"Nova-3gn","type":"parent-child","created_at":"2026-01-31T17:46:02.973715-08:00","created_by":"shoe"},{"issue_id":"Nova-3gn.3","depends_on_id":"Nova-3gn.1","type":"blocks","created_at":"2026-01-31T17:46:09.849794-08:00","created_by":"shoe"},{"issue_id":"Nova-3gn.3","depends_on_id":"Nova-3gn.2","type":"blocks","created_at":"2026-01-31T17:46:09.912362-08:00","created_by":"shoe"}]}
{"id":"Nova-3gn.4","title":"Commit: Nova Voice Interface implementation","description":"Commit all nova-server and nova-web files after QA passes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T17:46:04.053509-08:00","created_by":"shoe","updated_at":"2026-01-31T18:03:26.68047-08:00","closed_at":"2026-01-31T18:03:26.68047-08:00","close_reason":"Closed","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-3gn.4","depends_on_id":"Nova-3gn","type":"parent-child","created_at":"2026-01-31T17:46:04.054065-08:00","created_by":"shoe"},{"issue_id":"Nova-3gn.4","depends_on_id":"Nova-3gn.3","type":"blocks","created_at":"2026-01-31T17:46:10.821621-08:00","created_by":"shoe"}]}
{"id":"Nova-6uj","title":"Add OpenAI voice integration to nova-server and nova-web: 1) Add OPENAI_API_K...","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T19:23:28.230929-08:00","created_by":"shoe","updated_at":"2026-01-31T19:27:18.368412-08:00","closed_at":"2026-01-31T19:27:18.368412-08:00","close_reason":"Closed","labels":["village-supervisor"],"comments":[{"id":15,"issue_id":"Nova-6uj","author":"shoe","text":"Completed: Added OpenAI voice integration to nova-server and nova-web:\n\n**nova-server changes:**\n1. Added OPENAI_API_KEY support to .env.example with documentation\n2. Added openaiApiKey, enableTTSProxy, corsOrigin config options to NovaServerConfig\n3. Implemented /api/tts endpoint that proxies TTS requests to OpenAI API\n4. Added CORS support for frontend requests\n5. Health endpoint now reports ttsEnabled status\n\n**nova-web changes:**\n1. Updated OpenAITTSService to support both direct API calls and server proxy mode\n2. Updated createTTSService() to prefer server proxy (VITE_TTS_PROXY_URL) over direct API calls\n3. Created .env.example documenting VITE_TTS_PROXY_URL and VITE_OPENAI_API_KEY options\n\n**Files modified:**\n- packages/nova-server/src/index.ts\n- packages/nova-server/.env.example\n- packages/nova-web/src/services/tts/openai.ts\n- packages/nova-web/src/services/tts/index.ts\n- packages/nova-web/.env.example (new)\n\n**Verification:**\n- Both packages compile without errors (tsc)\n- Both packages build successfully","created_at":"2026-02-01T03:27:14Z"}]}
{"id":"Nova-6za","title":"Add project file export to problem-advisor","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T14:41:09.901336-08:00","created_by":"shoe","updated_at":"2026-01-31T14:44:49.140152-08:00","closed_at":"2026-01-31T14:44:49.140152-08:00","close_reason":"Closed","labels":["village-supervisor"],"comments":[{"id":2,"issue_id":"Nova-6za","author":"shoe","text":"Completed: Added project file export to problem-advisor. Created file-exporter.ts with JSON and Markdown export formats. Added /export [format] command to advisor. Updated types.ts with ExportFormat and ExportedProblemStatement types. Updated API exports. Added 12 new tests for file export functionality. All 19 tests pass and build succeeds. Files modified: src/core/types.ts, src/core/file-exporter.ts (new), src/api/advisor.ts, src/api/index.ts, src/__tests__/file-exporter.test.ts (new).","created_at":"2026-01-31T22:44:45Z"}]}
{"id":"Nova-7um","title":"Fix problem-advisor early exit bug","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T12:40:00.603839-08:00","created_by":"shoe","updated_at":"2026-01-31T12:45:50.801323-08:00","closed_at":"2026-01-31T12:45:50.801323-08:00","close_reason":"Closed","labels":["village-supervisor"],"comments":[{"id":1,"issue_id":"Nova-7um","author":"shoe","text":"Fixed the early exit bug in problem-advisor CLI. The runCLI function was returning a promise that resolved immediately instead of waiting for the user to exit. The fix wraps the readline prompt loop in a Promise that only resolves when the user types 'exit' or 'quit'. Also added vitest and unit tests for the state-machine module. Files modified: src/cli/index.ts, package.json, src/__tests__/state-machine.test.ts (new). Build and tests pass.","created_at":"2026-01-31T20:45:46Z"}]}
{"id":"Nova-9u7","title":"[Epic] Implement problem-advisor package","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-31T12:15:00.491235-08:00","created_by":"shoe","updated_at":"2026-01-31T12:18:49.539304-08:00","closed_at":"2026-01-31T12:18:49.539304-08:00","close_reason":"All phases complete. Package implemented and committed (8e316fc)","labels":["village-supervisor"]}
{"id":"Nova-9u7.1","title":"Setup package.json and tsconfig.json","description":"Create package.json with dependencies (anthropic-sdk, chalk, ora, boxen, commander) and tsconfig.json per IMPLEMENTATION.md Phase 5","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T12:15:06.567373-08:00","created_by":"shoe","updated_at":"2026-01-31T12:15:59.44704-08:00","closed_at":"2026-01-31T12:15:59.44704-08:00","close_reason":"Created package.json and tsconfig.json","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-9u7.1","depends_on_id":"Nova-9u7","type":"parent-child","created_at":"2026-01-31T12:15:06.567993-08:00","created_by":"shoe"}]}
{"id":"Nova-9u7.2","title":"Implement Core Foundation (Phase 1)","description":"Create src/core/types.ts, src/core/dimensions.ts, src/core/state-machine.ts per IMPLEMENTATION.md Phase 1","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T12:15:07.614695-08:00","created_by":"shoe","updated_at":"2026-01-31T12:16:34.65585-08:00","closed_at":"2026-01-31T12:16:34.65585-08:00","close_reason":"Created types.ts, dimensions.ts, state-machine.ts","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-9u7.2","depends_on_id":"Nova-9u7","type":"parent-child","created_at":"2026-01-31T12:15:07.61527-08:00","created_by":"shoe"}]}
{"id":"Nova-9u7.3","title":"Implement LLM Integration (Phase 2)","description":"Create src/llm/types.ts, src/llm/anthropic.ts, src/core/prompt-builder.ts, src/core/evaluator.ts per IMPLEMENTATION.md Phase 2","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T12:15:08.509593-08:00","created_by":"shoe","updated_at":"2026-01-31T12:16:37.918796-08:00","closed_at":"2026-01-31T12:16:37.918796-08:00","close_reason":"Created llm/types.ts, llm/anthropic.ts, prompt-builder.ts, evaluator.ts","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-9u7.3","depends_on_id":"Nova-9u7","type":"parent-child","created_at":"2026-01-31T12:15:08.510142-08:00","created_by":"shoe"}]}
{"id":"Nova-9u7.4","title":"Implement Main API (Phase 3)","description":"Create src/core/output-formatter.ts, src/api/advisor.ts, src/api/index.ts, src/index.ts per IMPLEMENTATION.md Phase 3","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T12:15:09.904275-08:00","created_by":"shoe","updated_at":"2026-01-31T12:16:36.712478-08:00","closed_at":"2026-01-31T12:16:36.712478-08:00","close_reason":"Created output-formatter.ts, api/advisor.ts, api/index.ts, src/index.ts","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-9u7.4","depends_on_id":"Nova-9u7","type":"parent-child","created_at":"2026-01-31T12:15:09.904853-08:00","created_by":"shoe"}]}
{"id":"Nova-9u7.5","title":"Implement CLI (Phase 4)","description":"Create src/cli/renderer.ts, src/cli/index.ts, bin/problem-advisor.ts per IMPLEMENTATION.md Phase 4","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T12:15:10.82471-08:00","created_by":"shoe","updated_at":"2026-01-31T12:16:19.226881-08:00","closed_at":"2026-01-31T12:16:19.226881-08:00","close_reason":"Created cli/renderer.ts, cli/index.ts, bin/problem-advisor.ts","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-9u7.5","depends_on_id":"Nova-9u7","type":"parent-child","created_at":"2026-01-31T12:15:10.825311-08:00","created_by":"shoe"}]}
{"id":"Nova-9u7.6","title":"QA: Verify problem-advisor builds and runs","description":"Run npm install, npm run build. Verify no TypeScript errors. Check that CLI starts with npm run start. Verify /help command works.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T12:15:11.829173-08:00","created_by":"shoe","updated_at":"2026-01-31T12:17:47.490324-08:00","closed_at":"2026-01-31T12:17:47.490324-08:00","close_reason":"QA passed: npm install, build, and CLI help all work","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-9u7.6","depends_on_id":"Nova-9u7","type":"parent-child","created_at":"2026-01-31T12:15:11.829783-08:00","created_by":"shoe"},{"issue_id":"Nova-9u7.6","depends_on_id":"Nova-9u7.1","type":"blocks","created_at":"2026-01-31T12:15:22.525962-08:00","created_by":"shoe"},{"issue_id":"Nova-9u7.6","depends_on_id":"Nova-9u7.2","type":"blocks","created_at":"2026-01-31T12:15:22.579568-08:00","created_by":"shoe"},{"issue_id":"Nova-9u7.6","depends_on_id":"Nova-9u7.3","type":"blocks","created_at":"2026-01-31T12:15:22.632131-08:00","created_by":"shoe"},{"issue_id":"Nova-9u7.6","depends_on_id":"Nova-9u7.4","type":"blocks","created_at":"2026-01-31T12:15:22.677408-08:00","created_by":"shoe"},{"issue_id":"Nova-9u7.6","depends_on_id":"Nova-9u7.5","type":"blocks","created_at":"2026-01-31T12:15:22.719581-08:00","created_by":"shoe"}]}
{"id":"Nova-9u7.7","title":"Commit: problem-advisor implementation","description":"After QA passes, commit all problem-advisor files with message describing the new package","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T12:15:13.305341-08:00","created_by":"shoe","updated_at":"2026-01-31T12:18:31.75303-08:00","closed_at":"2026-01-31T12:18:31.75303-08:00","close_reason":"Committed: 8e316fc","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-9u7.7","depends_on_id":"Nova-9u7","type":"parent-child","created_at":"2026-01-31T12:15:13.305882-08:00","created_by":"shoe"},{"issue_id":"Nova-9u7.7","depends_on_id":"Nova-9u7.6","type":"blocks","created_at":"2026-01-31T12:15:23.465652-08:00","created_by":"shoe"}]}
{"id":"Nova-a9z","title":"Implement hybrid speech recognition in nova-web: Use browser Web Speech API t...","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T19:54:24.882695-08:00","created_by":"shoe","updated_at":"2026-01-31T19:59:01.906827-08:00","closed_at":"2026-01-31T19:59:01.906827-08:00","close_reason":"Closed","labels":["village-supervisor"],"comments":[{"id":19,"issue_id":"Nova-a9z","author":"shoe","text":"Completed: Implemented hybrid speech recognition in nova-web that combines Web Speech API for real-time interim feedback with Whisper for accurate final transcription.\n\nFiles created:\n- packages/nova-web/src/hooks/useHybridSpeechRecognition.ts: New hook that runs both Web Speech API and MediaRecorder simultaneously. Web Speech provides real-time interim transcripts while audio is recorded. When stopped, sends audio to Whisper API for final transcription.\n\nFiles modified:\n- packages/nova-web/src/App.tsx: Updated to support three speech modes via VITE_SPEECH_MODE env var:\n  - 'hybrid' (default): Web Speech API interim + Whisper final\n  - 'whisper': Whisper only (shows 'Recording...')\n  - 'webspeech': Web Speech API only (faster but less accurate)\n- packages/nova-web/src/types.ts: Added shared Web Speech API types to avoid duplication\n- packages/nova-web/src/hooks/useSpeechRecognition.ts: Updated to use shared types\n- packages/nova-web/.env.example: Documented VITE_SPEECH_MODE configuration\n\nVerification:\n- TypeScript type-check passes\n- Build passes (vite build successful)","created_at":"2026-02-01T03:58:58Z"}]}
{"id":"Nova-p5u","title":"[Epic] Solution Architect v2 - Codebase-aware validation CLI","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-31T17:16:17.396921-08:00","created_by":"shoe","updated_at":"2026-01-31T17:44:05.359057-08:00","closed_at":"2026-01-31T17:44:05.359057-08:00","close_reason":"Closed","labels":["village-supervisor"],"comments":[{"id":4,"issue_id":"Nova-p5u","author":"shoe","text":"Epic for implementing solution-architect-v2 per spec at specs/solutions/solution-validation-cli-tool.md\n\nKey differences from v1:\n- Accepts codebase context from Claude Code\n- Generates edge case reports from code analysis\n- Produces Mermaid implementation diagrams\n- T-shirt complexity sizing\n- Enhanced output for implementation handoff\n\nArchitecture: CLI called by Claude Code, which provides codebase analysis. v2 orchestrates PM dialogue and generates outputs.","created_at":"2026-02-01T01:16:25Z"},{"id":10,"issue_id":"Nova-p5u","author":"shoe","text":"Epic complete. Solution-architect-v2 implemented and pushed to shoe/web-app branch.\n\nCommit: 5aaca84\nFiles: 26 changed, 6111 insertions\n\nSummary:\n- CLI: nova solution-v2 start [--context \u003cfile\u003e]\n- Accepts codebase context from Claude Code\n- Generates: UX flows, Mermaid diagrams, edge case reports, T-shirt sizing\n- 192 tests passing","created_at":"2026-02-01T01:44:05Z"}]}
{"id":"Nova-p5u.1","title":"Implement solution-v2 types and core structures","description":"Create types and core structures for solution-architect-v2:\n\n1. New types in src/solution-v2/core/types.ts:\n   - CodebaseContext (files, patterns, dependencies found by CC)\n   - EdgeCase (description, source, severity, recommendation)\n   - TShirtSize (XS/S/M/L/XL with reasoning)\n   - ImplementationDiagram (mermaid output structure)\n   - Enhanced SolutionSpecV2 (includes all new outputs)\n\n2. Dimensions - keep v1 dimensions but add:\n   - technical_constraints dimension\n   - edge_cases dimension\n\n3. State machine enhancements in src/solution-v2/core/state-machine.ts:\n   - Handle codebase context injection\n   - Track edge case discovery phase\n\nFollow existing v1 patterns in packages/nova/src/solution/core/","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T17:16:39.645165-08:00","created_by":"shoe","updated_at":"2026-01-31T17:23:07.273859-08:00","closed_at":"2026-01-31T17:23:07.273859-08:00","close_reason":"Closed","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-p5u.1","depends_on_id":"Nova-p5u","type":"parent-child","created_at":"2026-01-31T17:16:39.645837-08:00","created_by":"shoe"}],"comments":[{"id":5,"issue_id":"Nova-p5u.1","author":"shoe","text":"Completed: Implemented solution-v2 types and core structures following TDD.\n\nFiles created:\n- src/solution-v2/core/types.ts: New types including CodebaseContext, EdgeCase, TShirtSize, ImplementationDiagram, SolutionSpecV2, DimensionIdV2, SessionStateV2, etc.\n- src/solution-v2/core/dimensions.ts: Added technical_constraints and edge_cases dimensions (require partial coverage) alongside v1 dimensions (require strong coverage)\n- src/solution-v2/core/state-machine.ts: Enhanced state machine with codebase context injection, edge case discovery tracking, and session phase management\n\nTest files:\n- __tests__/types.test.ts: 15 tests for type shapes\n- __tests__/dimensions.test.ts: 16 tests for dimension definitions and canSignOffV2\n- __tests__/state-machine.test.ts: 22 tests for state management\n\nVerification:\n- All 87 tests passing\n- TypeScript build succeeds","created_at":"2026-02-01T01:23:03Z"}]}
{"id":"Nova-p5u.2","title":"Implement solution-v2 output generators","description":"Create output generators for solution-architect-v2:\n\n1. src/solution-v2/core/mermaid-generator.ts:\n   - generateImplementationDiagram(context: CodebaseContext, spec: SolutionSpecV2) -\u003e string\n   - Show component interactions, data flows\n   - Keep high-level (not detailed implementation)\n\n2. src/solution-v2/core/edge-case-analyzer.ts:\n   - analyzeEdgeCases(context: CodebaseContext, conversation: Message[]) -\u003e EdgeCase[]\n   - Combine codebase patterns with conversation context\n   - Categorize by source (code-pattern, business-rule, technical-constraint)\n\n3. src/solution-v2/core/complexity-estimator.ts:\n   - estimateComplexity(context: CodebaseContext, spec: SolutionSpecV2) -\u003e TShirtSize\n   - Based on files touched, integration points, new vs modified code\n\n4. src/solution-v2/core/output-formatter.ts:\n   - formatV2Output() - combines UX flow + Mermaid + edge cases + sizing\n   - Markdown format suitable for implementation handoff\n\nFollow existing v1 pattern in flow-diagram.ts and output-formatter.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T17:16:48.535849-08:00","created_by":"shoe","updated_at":"2026-01-31T17:29:43.341472-08:00","closed_at":"2026-01-31T17:29:43.341472-08:00","close_reason":"Closed","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-p5u.2","depends_on_id":"Nova-p5u","type":"parent-child","created_at":"2026-01-31T17:16:48.536458-08:00","created_by":"shoe"},{"issue_id":"Nova-p5u.2","depends_on_id":"Nova-p5u.1","type":"blocks","created_at":"2026-01-31T17:17:19.591534-08:00","created_by":"shoe"}],"comments":[{"id":6,"issue_id":"Nova-p5u.2","author":"shoe","text":"Completed: Implemented all 4 output generators for solution-architect-v2:\n\n1. mermaid-generator.ts - generateImplementationDiagram() creates Mermaid flowcharts showing component interactions, with fallback diagram support and createMermaidFlowchart() for programmatic diagram creation\n\n2. edge-case-analyzer.ts - analyzeEdgeCases() combines codebase patterns with conversation context to identify edge cases, categorizes by source (code-pattern, business-rule, technical-constraint), parses LLM responses\n\n3. complexity-estimator.ts - estimateComplexity() returns T-shirt size (XS-XL) based on files touched, scope items, constraints, edge cases, and integration complexity with confidence level and reasoning\n\n4. output-formatter.ts - formatV2Output() generates markdown output combining UX flow, Mermaid diagram, edge cases section, complexity estimate, technical constraints, and gaps\n\nAll 4 modules follow TDD with comprehensive tests. Total: 139 tests passing, TypeScript type check passes.","created_at":"2026-02-01T01:29:39Z"}]}
{"id":"Nova-p5u.3","title":"Implement solution-v2 API and CLI","description":"Create the main API class and CLI integration for solution-architect-v2:\n\n1. src/solution-v2/api/architect.ts - SolutionArchitectV2 class:\n   - constructor(config, basePath)\n   - startSession(existingState?, codebaseContext?) - accepts CC-provided context\n   - injectCodebaseContext(sessionId, context) - add context mid-session\n   - chat() - enhanced to use codebase context in prompts\n   - eject() - produces full v2 output package\n   - All existing v1 commands plus new ones\n\n2. src/solution-v2/api/index.ts - exports\n\n3. src/solution-v2/cli/index.ts:\n   - Register 'solution-v2' command under nova CLI\n   - nova solution-v2 start [--context \u003cfile\u003e]\n   - Render enhanced outputs (mermaid, edge cases, sizing)\n\n4. src/solution-v2/cli/renderer.ts - terminal rendering\n\n5. Update bin/nova.ts to include solution-v2 command\n\n6. src/solution-v2/core/prompt-builder.ts:\n   - Enhanced prompts that incorporate codebase context\n   - Guide conversation toward edge case discovery\n\nFollow patterns from existing v1 in packages/nova/src/solution/","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T17:16:58.593589-08:00","created_by":"shoe","updated_at":"2026-01-31T17:39:04.046315-08:00","closed_at":"2026-01-31T17:39:04.046315-08:00","close_reason":"Closed","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-p5u.3","depends_on_id":"Nova-p5u","type":"parent-child","created_at":"2026-01-31T17:16:58.594227-08:00","created_by":"shoe"},{"issue_id":"Nova-p5u.3","depends_on_id":"Nova-p5u.1","type":"blocks","created_at":"2026-01-31T17:17:19.659531-08:00","created_by":"shoe"},{"issue_id":"Nova-p5u.3","depends_on_id":"Nova-p5u.2","type":"blocks","created_at":"2026-01-31T17:17:19.728469-08:00","created_by":"shoe"}],"comments":[{"id":7,"issue_id":"Nova-p5u.3","author":"shoe","text":"Completed: Implemented solution-v2 API and CLI integration following TDD.\n\nFiles created:\n- src/solution-v2/core/prompt-builder.ts: Enhanced prompts with codebase context and edge case guidance\n- src/solution-v2/api/architect.ts: SolutionArchitectV2 class with all v1 commands plus new /context command\n- src/solution-v2/api/index.ts: Comprehensive exports for types, utilities, and API\n- src/solution-v2/cli/renderer.ts: Enhanced terminal rendering for v2 outputs (mermaid, edge cases, sizing)\n- src/solution-v2/cli/index.ts: CLI entry point with --context option for loading codebase context\n- bin/nova.ts: Updated to include 'solution-v2' subcommand with start and resume commands\n\nTest files:\n- __tests__/prompt-builder.test.ts: 17 tests\n- __tests__/architect.test.ts: 20 tests\n- __tests__/renderer.test.ts: 16 tests\n\nKey features:\n- startSession() accepts optional codebase context\n- injectCodebaseContext() for mid-session context injection\n- Enhanced prompts use codebase context for suggestions\n- /context command shows loaded context\n- Eject generates full v2 output with mermaid diagram, edge cases, and effort estimate\n\nVerification:\n- All 192 tests passing\n- TypeScript build succeeds","created_at":"2026-02-01T01:38:59Z"}]}
{"id":"Nova-p5u.4","title":"QA: Verify solution-v2 implementation","description":"Verify solution-architect-v2 implementation:\n\n1. Build passes: npm run build in packages/nova\n2. Tests pass: npm run test in packages/nova\n3. TypeScript compiles without errors\n4. CLI command works: nova solution-v2 start\n5. Can inject codebase context\n6. Generates all expected outputs:\n   - ASCII UX flow diagram\n   - Mermaid implementation diagram\n   - Edge case report\n   - T-shirt complexity sizing\n7. Output is markdown format suitable for implementation handoff\n\nIf issues found, create blocker beads describing the problem.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T17:17:04.936026-08:00","created_by":"shoe","updated_at":"2026-01-31T17:41:36.889204-08:00","closed_at":"2026-01-31T17:41:36.889204-08:00","close_reason":"Closed","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-p5u.4","depends_on_id":"Nova-p5u","type":"parent-child","created_at":"2026-01-31T17:17:04.936569-08:00","created_by":"shoe"},{"issue_id":"Nova-p5u.4","depends_on_id":"Nova-p5u.3","type":"blocks","created_at":"2026-01-31T17:17:19.790441-08:00","created_by":"shoe"}],"comments":[{"id":8,"issue_id":"Nova-p5u.4","author":"shoe","text":"QA Verification completed successfully:\n\n1. ✅ Build passes: npm run build completes without errors\n2. ✅ Tests pass: All 192 tests pass (12 test files)\n3. ✅ TypeScript compiles: tsc compiles without errors (via npm run build)\n4. ✅ CLI command works: 'nova solution-v2 start' displays help correctly, handles missing API key properly\n5. ✅ Codebase context injection: Verified via -c/--context option and tests in architect.test.ts (injectCodebaseContext, startSession with context)\n6. ✅ All expected outputs generated:\n   - ASCII UX flow: formatUXFlow in output-formatter.ts\n   - Mermaid implementation diagram: mermaid-generator.ts with fallback\n   - Edge case report: formatEdgeCasesSection with severity badges\n   - T-shirt complexity sizing: formatComplexitySection\n7. ✅ Markdown format: formatV2Output produces proper markdown with sections for Summary, User Value, Scope, Success Criteria, User Flow, Technical Constraints, Edge Cases, Effort Estimate, Implementation Diagram, and Confidence/Gaps","created_at":"2026-02-01T01:41:33Z"}]}
{"id":"Nova-p5u.5","title":"Commit: Solution Architect v2 implementation","description":"Commit all solution-architect-v2 work after QA passes.\n\nCommit message should be:\nAdd solution-architect-v2 with codebase-aware validation\n\n- New CLI command: nova solution-v2 start\n- Accepts codebase context from Claude Code\n- Generates: UX flows, Mermaid diagrams, edge case reports, T-shirt sizing\n- Enhanced output format for implementation handoff\n\nVerify:\n1. All new files are staged\n2. No unrelated changes included\n3. Tests pass before commit\n4. Push to current branch","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T17:17:11.524624-08:00","created_by":"shoe","updated_at":"2026-01-31T17:43:02.741-08:00","closed_at":"2026-01-31T17:43:02.741-08:00","close_reason":"Closed","labels":["village-supervisor"],"dependencies":[{"issue_id":"Nova-p5u.5","depends_on_id":"Nova-p5u","type":"parent-child","created_at":"2026-01-31T17:17:11.525191-08:00","created_by":"shoe"},{"issue_id":"Nova-p5u.5","depends_on_id":"Nova-p5u.4","type":"blocks","created_at":"2026-01-31T17:17:19.851382-08:00","created_by":"shoe"}],"comments":[{"id":9,"issue_id":"Nova-p5u.5","author":"shoe","text":"Verification complete - ready for commit:\n\n1. ✅ Build passes: npm run build (tsc) completes without errors\n2. ✅ Tests pass: All 192 tests pass across 12 test files\n3. ✅ Files ready to commit:\n   - packages/nova/bin/nova.ts (modified - CLI entry point with solution-v2 command)\n   - packages/nova/src/solution-v2/ (new - solution architect v2 implementation)\n   - specs/ (new - specification documents)\n\nNote: Actual git commit/push handled by committer worker per project workflow.","created_at":"2026-02-01T01:42:59Z"}]}
{"id":"Nova-pyp","title":"Fix CORS issue in nova-server. Replace the custom CORS middleware with the co...","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-31T19:52:28.300699-08:00","created_by":"shoe","updated_at":"2026-01-31T19:54:08.222341-08:00","closed_at":"2026-01-31T19:54:08.222341-08:00","close_reason":"Closed","labels":["village-supervisor"],"comments":[{"id":18,"issue_id":"Nova-pyp","author":"shoe","text":"Completed: Replaced custom CORS middleware with the cors npm package. Changes made to packages/nova-server/src/index.ts: added cors import, replaced manual header-setting middleware (lines 86-95) with cors() middleware configuration. Also installed cors and @types/cors packages. Build and typecheck pass successfully.","created_at":"2026-02-01T03:54:05Z"}]}
{"id":"Nova-slv","title":"Fix VoiceButton stop not responding during LISTENING state","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-31T18:24:32.491263-08:00","created_by":"shoe","updated_at":"2026-01-31T18:26:04.729374-08:00","closed_at":"2026-01-31T18:26:04.729374-08:00","close_reason":"Closed","labels":["village-supervisor"],"comments":[{"id":12,"issue_id":"Nova-slv","author":"shoe","text":"Completed: Fixed VoiceButton stop not responding during LISTENING state. The issue was that voiceState remained stuck at LISTENING when stopListening() was called but no transcript was captured. Modified the listening state sync effect in App.tsx (line 78-88) to also reset voiceState to IDLE when isListening becomes false while voiceState is still LISTENING. Build and type-check pass.","created_at":"2026-02-01T02:26:01Z"}]}
